/* News Page Styles - Apple Aesthetic */

.news-page-container {
  min-height: 100vh;
  padding: var(--finsight-space-8) var(--finsight-space-6); /* Generous padding */
  /* Background and color will be set by .app-theme-* on body */
  font-family: var(--apple-font-family);
}

/* Removed .news-page-container::before pseudo-element for cleaner background */

.news-page-header {
  margin-bottom: var(--finsight-space-8);
  padding-bottom: var(--finsight-space-4);
  /* border-bottom will be themed */
}

.news-header-content {
  display: flex;
  justify-content: space-between;
  align-items: flex-start; /* Align items to top */
  gap: var(--finsight-space-6);
  max-width: 1200px; /* Optional: constrain header width */
  margin: 0 auto; /* Center if max-width is used */
}

.news-header-main {
  flex: 1;
}

.news-header-main h1 {
  font-size: 2.8em; /* Apple-like large title */
  font-weight: 700;
  margin: 0 0 var(--finsight-space-2) 0;
  line-height: 1.2;
  /* color will be inherited from .app-theme-* */
  /* Remove gradient text */
}

.news-header-subtitle {
  font-size: 1.2em;
  /* color will be themed */
  margin-top: 0;
  max-width: 650px;
  line-height: 1.6;
}

.news-last-updated {
  display: flex;
  align-items: center;
  gap: var(--finsight-space-2);
  font-size: 0.9rem;
  padding: var(--finsight-space-2) var(--finsight-space-3);
  border-radius: var(--finsight-radius-full); /* Pill shape */
  /* background, color, border, shadow will be themed */
  margin-top: var(--finsight-space-2); /* Space from title area */
}

.news-refresh-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--finsight-space-1);
  border-radius: 50%;
  transition: transform var(--finsight-transition-normal), background-color var(--finsight-transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.news-refresh-button:hover {
  transform: rotate(180deg);
  /* background-color will be themed */
}

.news-categories {
  display: flex;
  gap: var(--finsight-space-2); /* Slightly smaller gap */
  margin-bottom: var(--finsight-space-6);
  flex-wrap: wrap;
  padding: var(--finsight-space-2);
  border-radius: var(--finsight-radius-lg); /* Consistent radius */
  /* background, shadow will be themed */
  max-width: 1200px; /* Optional: constrain width */
  margin-left: auto;
  margin-right: auto;
}

.news-category-button {
  display: flex;
  align-items: center;
  gap: var(--finsight-space-2);
  padding: var(--finsight-space-2) var(--finsight-space-4);
  border: 1px solid transparent; /* Base border */
  background: none;
  cursor: pointer;
  border-radius: var(--finsight-radius-md);
  font-size: 0.95rem;
  font-family: var(--apple-font-family);
  font-weight: 500; /* Medium weight */
  transition: background-color var(--finsight-transition-fast), color var(--finsight-transition-fast), border-color var(--finsight-transition-fast);
}

.news-category-button svg { /* If using SVGs for icons */
  font-size: 1.1em; /* Adjust icon size */
  opacity: 0.7;
}
.news-category-button:hover svg,
.news-category-button.active svg {
  opacity: 1;
}


.news-featured-card, .news-card {
  border-radius: var(--finsight-radius-xl); /* Larger, softer radius */
  overflow: hidden;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  /* background, border, shadow will be themed */
}

.news-featured-card:hover, .news-card:hover {
  transform: translateY(-3px);
  /* box-shadow will be themed */
}

.news-featured-card {
  margin-bottom: var(--finsight-space-6);
  max-width: 1200px; /* Optional: constrain width */
  margin-left: auto;
  margin-right: auto;
}

.news-featured-content, .news-card-content {
  padding: var(--finsight-space-6); /* Generous padding */
}

.news-featured-header { /* For badge within featured card */
  display: flex;
  margin-bottom: var(--finsight-space-3);
}

.news-featured-badge {
  padding: var(--finsight-space-1) var(--finsight-space-3);
  border-radius: var(--finsight-radius-full);
  font-size: 0.85rem;
  font-weight: 500;
  /* background, color will be themed */
}

.news-featured-title, .news-title {
  font-family: var(--apple-font-family);
  font-weight: 600; /* Bold for titles */
  line-height: 1.3;
  margin: 0 0 var(--finsight-space-3) 0;
}
.news-featured-title { font-size: 1.8em; }
.news-title { font-size: 1.3em; }


.news-featured-title a, .news-title a {
  text-decoration: none;
  /* color will be inherited */
  transition: color var(--finsight-transition-fast);
}
/* .news-featured-title a:hover, .news-title a:hover { color will be themed } */


.news-featured-summary, .news-summary {
  font-family: var(--apple-font-family);
  line-height: 1.6;
  margin-bottom: var(--finsight-space-4);
  font-size: 1rem; /* For featured */
}
.news-summary {
  font-size: 0.95rem; /* Slightly smaller for regular cards */
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.news-featured-meta, .news-meta {
  display: flex;
  justify-content: space-between; /* Meta items spread out */
  font-size: 0.85rem;
  font-family: var(--apple-font-family);
  /* color will be themed (secondary text) */
}
.news-featured-meta { gap: var(--finsight-space-4); }

.news-source, .news-date {
  display: flex;
  align-items: center;
  gap: var(--finsight-space-1);
}

.news-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); /* Min card width */
  gap: var(--finsight-space-6); /* Generous gap */
  margin-top: var(--finsight-space-6);
  max-width: 1200px; /* Optional: constrain width */
  margin-left: auto;
  margin-right: auto;
}

.news-card-header { /* For badges within regular news cards */
  display: flex;
  gap: var(--finsight-space-2);
  margin-bottom: var(--finsight-space-3);
}

.news-sentiment-badge, .news-importance-badge {
  padding: var(--finsight-space-1) var(--finsight-space-3);
  border-radius: var(--finsight-radius-full);
  font-size: 0.8rem;
  font-weight: 500;
  text-transform: capitalize;
  /* background, color will be themed */
}


/* Loading, Error, Empty States - General Styling */
.news-loading-container, .news-error-container, .news-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  padding: var(--finsight-space-8);
  text-align: center;
  font-family: var(--apple-font-family);
}

.news-loading-spinner .spinning { animation: spin 1s linear infinite; } /* Simplified spin */

.news-error-message { font-size: 1.1em; }
.news-empty-state p { font-size: 1.1em; }

.news-retry-button {
  display: inline-flex; /* Changed to inline-flex */
  align-items: center;
  gap: var(--finsight-space-2);
  padding: var(--finsight-space-2) var(--finsight-space-4);
  border-radius: var(--finsight-radius-md);
  font-size: 1rem;
  font-family: var(--apple-font-family);
  font-weight: 500;
  cursor: pointer;
  transition: background-color var(--finsight-transition-fast), transform var(--finsight-transition-fast);
  border: none;
  /* background, color themed */
}
.news-retry-button:hover { transform: translateY(-1px); /* Subtle lift */ }


.external-link-icon {
  font-size: 0.8em; /* Relative to title */
  opacity: 0.6;
  transition: opacity var(--finsight-transition-fast), transform var(--finsight-transition-fast);
  margin-left: 2px;
}
.news-title a:hover .external-link-icon,
.news-featured-title a:hover .external-link-icon {
  opacity: 1;
  transform: translateX(1px);
}


/* --- Theme Specific Variables & Styles for NewsPage --- */
.page-theme-newtimer {
  --news-page-border: var(--card-border-newtimer);
  --news-header-subtitle-color: var(--text-color-secondary-newtimer);
  --news-last-updated-bg: #f0f0f0; /* Subtle grey */
  --news-last-updated-text: var(--text-color-secondary-newtimer);
  --news-last-updated-shadow: none;
  --news-refresh-hover-bg: #e7e7e7;
  --news-categories-bg: #f9f9f9; /* Very light grey */
  --news-categories-shadow: none;
  --news-category-text: var(--text-color-secondary-newtimer);
  --news-category-hover-text: var(--link-color-newtimer);
  --news-category-hover-bg: #e9f5ff; /* Light blueish */
  --news-category-active-text: var(--link-color-newtimer);
  --news-category-active-bg: #ddeeff; /* Slightly darker blueish */
  --news-card-bg: var(--card-bg-newtimer);
  --news-card-border: var(--card-border-newtimer);
  --news-card-shadow: var(--card-shadow-newtimer);
  --news-card-hover-shadow: 0 6px 12px rgba(0,0,0,0.06);
  --news-featured-badge-bg: var(--accent-color-primary-newtimer);
  --news-featured-badge-text: #ffffff;
  --news-title-link-hover: var(--link-color-newtimer);
  --news-meta-text: var(--text-color-secondary-newtimer);
  --news-sentiment-positive-bg: #28a745; /* Green */
  --news-sentiment-negative-bg: #dc3545; /* Red */
  --news-sentiment-neutral-bg: #6c757d; /* Grey */
  --news-sentiment-text: #ffffff;
  --news-importance-bg: var(--accent-color-primary-newtimer);
  --news-importance-text: #ffffff;
  --news-loading-spinner-color: var(--accent-color-primary-newtimer);
  --news-error-text-color: #c62828; /* Darker red for errors */
  --news-retry-button-bg: var(--button-primary-bg-newtimer);
  --news-retry-button-text: var(--button-primary-text-newtimer);
  --news-retry-button-hover-bg: #0056b3; /* Darker blue */
}

.page-theme-veteran {
  --news-page-border: var(--card-border-veteran);
  --news-header-subtitle-color: var(--text-color-secondary-veteran);
  --news-last-updated-bg: #2c2c2e; /* Dark grey */
  --news-last-updated-text: var(--text-color-secondary-veteran);
  --news-last-updated-shadow: none;
  --news-refresh-hover-bg: #3a3a3c;
  --news-categories-bg: #1c1c1e; /* Very dark grey */
  --news-categories-shadow: none;
  --news-category-text: var(--text-color-secondary-veteran);
  --news-category-hover-text: var(--link-color-veteran);
  --news-category-hover-bg: #2a3f5a; /* Dark blueish */
  --news-category-active-text: var(--link-color-veteran);
  --news-category-active-bg: #1c4a7e; /* Darker blueish */
  --news-card-bg: var(--card-bg-veteran);
  --news-card-border: var(--card-border-veteran);
  --news-card-shadow: var(--card-shadow-veteran);
  --news-card-hover-shadow: 0 6px 12px rgba(0,0,0,0.2);
  --news-featured-badge-bg: var(--accent-color-primary-veteran);
  --news-featured-badge-text: #ffffff;
  --news-title-link-hover: var(--link-color-veteran);
  --news-meta-text: var(--text-color-secondary-veteran);
  --news-sentiment-positive-bg: #238636; /* GitHub green */
  --news-sentiment-negative-bg: #da3633; /* GitHub red */
  --news-sentiment-neutral-bg: #6e7681; /* GitHub grey */
  --news-sentiment-text: #ffffff;
  --news-importance-bg: var(--accent-color-primary-veteran);
  --news-importance-text: #ffffff;
  --news-loading-spinner-color: var(--accent-color-primary-veteran);
  --news-error-text-color: #ff8080; /* Lighter red for dark theme errors */
  --news-retry-button-bg: var(--button-primary-bg-veteran);
  --news-retry-button-text: var(--button-primary-text-veteran);
  --news-retry-button-hover-bg: #0A78E8; /* Slightly adjusted blue */
}

/* Apply themed styles */
.news-page-header { border-bottom: 1px solid var(--news-page-border); }
.news-header-subtitle { color: var(--news-header-subtitle-color); }
.news-last-updated { background-color: var(--news-last-updated-bg); color: var(--news-last-updated-text); box-shadow: var(--news-last-updated-shadow); }
.news-refresh-button:hover { background-color: var(--news-refresh-hover-bg); }
.news-categories { background-color: var(--news-categories-bg); box-shadow: var(--news-categories-shadow); }
.news-category-button { color: var(--news-category-text); }
.news-category-button:hover { color: var(--news-category-hover-text); background-color: var(--news-category-hover-bg); }
.news-category-button.active { color: var(--news-category-active-text); background-color: var(--news-category-active-bg); }
.news-featured-card, .news-card { background-color: var(--news-card-bg); border: 1px solid var(--news-card-border); box-shadow: var(--news-card-shadow); }
.news-featured-card:hover, .news-card:hover { box-shadow: var(--news-card-hover-shadow); }
.news-featured-badge { background-color: var(--news-featured-badge-bg); color: var(--news-featured-badge-text); }
.news-featured-title a:hover, .news-title a:hover { color: var(--news-title-link-hover); }
.news-featured-summary, .news-summary, .news-featured-meta, .news-meta { color: var(--news-meta-text); }
.news-sentiment-badge.positive { background-color: var(--news-sentiment-positive-bg); color: var(--news-sentiment-text); }
.news-sentiment-badge.negative { background-color: var(--news-sentiment-negative-bg); color: var(--news-sentiment-text); }
.news-sentiment-badge.neutral { background-color: var(--news-sentiment-neutral-bg); color: var(--news-sentiment-text); }
.news-importance-badge { background-color: var(--news-importance-bg); color: var(--news-importance-text); }
.news-loading-spinner { color: var(--news-loading-spinner-color); }
.news-error-message { color: var(--news-error-text-color); }
.news-retry-button { background-color: var(--news-retry-button-bg); color: var(--news-retry-button-text); }
.news-retry-button:hover { background-color: var(--news-retry-button-hover-bg); }
.news-empty-state { color: var(--news-meta-text); } /* Use meta text color for empty state */


/* Remove old .page-theme-dark overrides as they are now incorporated into the variables */
/* .page-theme-dark .news-card, ... */


/* News Card Image Styles */
.news-card-image {
  width: 100%;
  height: 200px; /* Slightly reduced default height */
  position: relative;
  overflow: hidden;
  border-radius: var(--finsight-radius-xl) var(--finsight-radius-xl) 0 0; /* Match card radius */
  background-color: #e9e9eb; /* Placeholder background */
}
.page-theme-veteran .news-card-image { background-color: #2c2c2e; }


.news-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease, filter 0.3s ease; /* Smoother transition */
  filter: brightness(0.95); /* Slightly darken image by default */
}

.news-card:hover .news-card-image img {
  transform: scale(1.03); /* Smaller scale effect */
  filter: brightness(1); /* Brighten on hover */
}

/* Removed .news-card-image-overlay and related styles for a cleaner card look */


.news-featured-card .news-card-image {
  height: 320px; /* Adjusted height */
}

/* Removed .news-category-badge from here, assuming it's .news-sentiment-badge or similar */

/* Card Content Adjustments - no specific background overlay needed now */
/* .news-card.has-image .news-card-content { ... } */
/* .news-featured-card.has-image .news-featured-content { ... } */


/* Badge Styles Enhancement - more subtle shadows or none */
.news-sentiment-badge, .news-importance-badge, .news-featured-badge {
  backdrop-filter: none; /* Remove blur if not desired for Apple look */
  border: none; /* Remove border for flatter look */
  box-shadow: none; /* Remove shadow for flatter look */
}


/* Responsive adjustments */
@media (max-width: 768px) {
  .news-page-container { padding: var(--finsight-space-4); } /* Use global spacing */
  .news-header-main h1 { font-size: 2.2em; }
  .news-featured-title { font-size: 1.6em; }
  .news-title { font-size: 1.15em; }
  .news-card-image { height: 180px; }
  .news-featured-card .news-card-image { height: 250px; }
  .news-grid { gap: var(--finsight-space-4); }
  .news-categories {
    padding: var(--finsight-space-2);
    margin: 0 calc(-1 * var(--finsight-space-4)) var(--finsight-space-4) calc(-1 * var(--finsight-space-4)); /* Full bleed effect */
    border-radius: 0;
    border-bottom: 1px solid var(--news-page-border);
  }
}

/* Animation - keep it subtle */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); } /* Smaller translate */
  to { opacity: 1; transform: translateY(0); }
}

.news-card,
.news-featured-card {
  animation: fadeIn 0.4s ease-out forwards; /* Slightly faster, ease-out */
}
/* Staggered animations can be kept if desired, but ensure they are not too distracting */

/* Siri-like gradient for Effect on You button */
@keyframes siri-gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.effect-on-you-button {
  position: relative;
  padding: 10px 18px;
  fontSize: 15px;
  border-radius: 10px;
  cursor: pointer;
  background: transparent;
  border: none;
  color: #ffffffb6;
  font-weight: 500;
  transition: transform 0.2s ease;
  z-index: 1;
}

.effect-on-you-button::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border-radius: 12px;
  z-index: -1;
  background: linear-gradient(90deg, #ff5f6d, #ffc371, #42e695, #3bb2b8, #6a82fb, #fc5c7d, #ff5f6d);
  background-size: 400% 400%;
  animation: siri-gradient 8s ease-in-out infinite;
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 0;
  border: 2px solid transparent;
  pointer-events: none;
}

.effect-on-you-button:hover {
  transform: translateY(-1px);
}

.effect-on-you-button:active {
  transform: translateY(0);
}

/* Dark theme adjustments for the button */
[data-theme='dark'] .effect-on-you-button {
  color: #fff;
  background: #1a1a1a;
}

.page-theme-veteran .effect-on-you-button {
  color: #fff;
  background: #181a20;
}